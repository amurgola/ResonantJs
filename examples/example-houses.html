<!DOCTYPE html>
<html lang="en">
<head>
    <title>Resonant.js Nested Objects Demo</title>
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@2.0.6/css/pico.min.css"
    />
    <script src="../resonant.js"></script>
    <style>
        section.grid {
            padding: 1rem;
            margin-bottom: 2rem;
            border: 1px solid #e0e0e0;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body>
<main class="container">
    <h1>Nested Objects Demo - Houses</h1>

    <section class="grid">
        <h2>Houses</h2>
        <div res="houses">
            <h3 res-prop="name"></h3>
            <div res-display="people.length > 0">
                <h4>People:</h4>
                <div res-prop="people">
                    <span res-prop="name"></span>
                    <br/>
                    Contact(s):
                    <div res-prop="contact">
                        <span res-prop="email"></span>,
                        <span res-prop="phone"></span>
                    </div>
                </div>

            </div>
            <div res-display="people.length == 0" class="conditional">
                No people in this house.
            </div>
        </div>
    </section>
</main>

<script>
    const resonantJs = new Resonant();
    resonantJs.addAll({
        houses: [
            {
                name: 'Blue House',
                people: [
                    {
                        name: 'John Doe',
                        contact: [{ email: 'john@example.com', phone: '123-456-7890' },{ email: 'john@asdasdas.com', phone: '123-sss456-7890' }]
                    },
                    {
                        name: 'Jane Doe',
                        contact: [{ email: 'jane@example.com', phone: '222-555-1234' }]
                    }
                ],
                newPerson: { name: '', contact: { email: '', phone: '' } }
            }
        ]
    });
</script>
</body>
</html>
