<!DOCTYPE html>
<html lang="en">
<head>
    <title>Resonant.js Task Manager Demo</title>
    <script src="../resonant.js"></script>
</head>
<style>
    .done {
        text-decoration: line-through;
    }
</style>
<body>
<h1>Resonant.js Task Manager Demo</h1>

<!-- Task Input -->
<div>
    <h2>Add New Task</h2>
    <input type="text" placeholder="Task Name" res="taskName" />
    <p>
        Name: <span res="taskName"></span>
    </p>
    <button onclick="addTask()">Add Task</button>
</div>

<!-- Task List -->
<div>
    <h2>Task List</h2>
    <ul res="tasks">
        <li>
            <input type="checkbox" res-prop="done" />
            <span res-prop="name"></span>
            <button res-onclick-remove="name">Remove</button>
        </li>
    </ul>
</div>

<script>
    const resonantJs = new Resonant();

    // Initialize variables using a configuration object
    resonantJs.addAll({
        tasks: [
            { name: "Task 1", done: false },
            { name: "Task 2", done: true }
        ],
        taskName: ""
    });

    // Add a callback to log actions taken on tasks
    resonantJs.addCallback("tasks", (tasks, task, action) => {
        console.log(`Action taken: ${action} for ${task.name}`);
    });

    function remove(task) {
        const index = tasks.indexOf(task);
        tasks.splice(index, 1);

        //You could use  as well, still trying to figure out if I want to leave this or not
    }

    // Add a function to add a new task
    function addTask() {
        const newTask = { name: taskName, done: false };
        tasks.push(newTask);
        taskName = '';
    }
</script>
</body>
</html>
